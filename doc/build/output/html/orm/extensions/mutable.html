

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ko" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ko" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Mutation Tracking &mdash; SQLAlchemy 1.3.0b1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/changelog.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sphinx_paramlinks.css" type="text/css" />
    <link rel="index" title="색인" href="../../genindex.html" />
    <link rel="search" title="검색" href="../../search.html" />
    <link rel="copyright" title="저작권" href="../../copyright.html" />
    <link rel="next" title="Ordering List" href="orderinglist.html" />
    <link rel="prev" title="Declarative API" href="declarative/api.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../contents.html" class="icon icon-home"> SQLAlchemy
          

          
          </a>

          
            
            
              <div class="version">
                1.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">SQLAlchemy ORM</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../tutorial.html">객체 관계형 튜토리얼(Object Relational Tutorial)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mapper_config.html">Mapper Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../relationships.html">Relationship Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../loading_objects.html">Loading Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session.html">Using the Session</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending.html">Events and Internals</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">ORM Extensions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="associationproxy.html">Association Proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="automap.html">Automap</a></li>
<li class="toctree-l3"><a class="reference internal" href="baked.html">Baked Queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="declarative/index.html">Declarative</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Mutation Tracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="orderinglist.html">Ordering List</a></li>
<li class="toctree-l3"><a class="reference internal" href="horizontal_shard.html">Horizontal Sharding</a></li>
<li class="toctree-l3"><a class="reference internal" href="hybrid.html">Hybrid Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="indexable.html">Indexable</a></li>
<li class="toctree-l3"><a class="reference internal" href="instrumentation.html">Alternate Class Instrumentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html">ORM Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../core/index.html">SQLAlchemy Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dialects/index.html">Dialects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../errors.html">Error Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog/index.html">Changes and Migration</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../contents.html">SQLAlchemy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../contents.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">SQLAlchemy ORM</a> &raquo;</li>
        
          <li><a href="index.html">ORM Extensions</a> &raquo;</li>
        
      <li>Mutation Tracking</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/VeranosTech/docs-korean-sqlalchemy//docs-korean/doc/build/orm/extensions/mutable.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-sqlalchemy.ext.mutable">
<span id="mutation-tracking"></span><span id="mutable-toplevel"></span><h1>Mutation Tracking<a class="headerlink" href="#module-sqlalchemy.ext.mutable" title="제목 주소">¶</a></h1>
<p>Provide support for tracking of in-place changes to scalar values,
which are propagated into ORM change events on owning parent objects.</p>
<div class="section" id="establishing-mutability-on-scalar-column-values">
<span id="mutable-scalars"></span><h2>Establishing Mutability on Scalar Column Values<a class="headerlink" href="#establishing-mutability-on-scalar-column-values" title="제목 주소">¶</a></h2>
<p>A typical example of a &quot;mutable&quot; structure is a Python dictionary.
Following the example introduced in <a class="reference internal" href="../../core/types.html#types-toplevel"><span class="std std-ref">Column and Data Types</span></a>, we
begin with a custom type that marshals Python dictionaries into
JSON strings before being persisted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.types</span> <span class="k">import</span> <span class="n">TypeDecorator</span><span class="p">,</span> <span class="n">VARCHAR</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="k">class</span> <span class="nc">JSONEncodedDict</span><span class="p">(</span><span class="n">TypeDecorator</span><span class="p">):</span>
    <span class="s2">&quot;Represents an immutable structure as a json-encoded string.&quot;</span>

    <span class="n">impl</span> <span class="o">=</span> <span class="n">VARCHAR</span>

    <span class="k">def</span> <span class="nf">process_bind_param</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">dialect</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">process_result_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">dialect</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>
</pre></div>
</div>
<p>The usage of <code class="docutils literal notranslate"><span class="pre">json</span></code> is only for the purposes of example. The
<a class="reference internal" href="#module-sqlalchemy.ext.mutable" title="sqlalchemy.ext.mutable"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlalchemy.ext.mutable</span></code></a> extension can be used
with any type whose target Python type may be mutable, including
<a class="reference internal" href="../../core/type_basics.html#sqlalchemy.types.PickleType" title="sqlalchemy.types.PickleType"><code class="xref py py-class docutils literal notranslate"><span class="pre">PickleType</span></code></a>, <a class="reference internal" href="../../dialects/postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal notranslate"><span class="pre">postgresql.ARRAY</span></code></a>, etc.</p>
<p>When using the <a class="reference internal" href="#module-sqlalchemy.ext.mutable" title="sqlalchemy.ext.mutable"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlalchemy.ext.mutable</span></code></a> extension, the value itself
tracks all parents which reference it.  Below, we illustrate a simple
version of the <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableDict" title="sqlalchemy.ext.mutable.MutableDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableDict</span></code></a> dictionary object, which applies
the <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable" title="sqlalchemy.ext.mutable.Mutable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mutable</span></code></a> mixin to a plain Python dictionary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.ext.mutable</span> <span class="k">import</span> <span class="n">Mutable</span>

<span class="k">class</span> <span class="nc">MutableDict</span><span class="p">(</span><span class="n">Mutable</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">coerce</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="s2">&quot;Convert plain dictionaries to MutableDict.&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">MutableDict</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">MutableDict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

            <span class="c1"># this call will raise ValueError</span>
            <span class="k">return</span> <span class="n">Mutable</span><span class="o">.</span><span class="n">coerce</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="s2">&quot;Detect dictionary set events and emit change events.&quot;</span>

        <span class="nb">dict</span><span class="o">.</span><span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">changed</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__delitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="s2">&quot;Detect dictionary del events and emit change events.&quot;</span>

        <span class="nb">dict</span><span class="o">.</span><span class="fm">__delitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">changed</span><span class="p">()</span>
</pre></div>
</div>
<p>The above dictionary class takes the approach of subclassing the Python
built-in <code class="docutils literal notranslate"><span class="pre">dict</span></code> to produce a dict
subclass which routes all mutation events through <code class="docutils literal notranslate"><span class="pre">__setitem__</span></code>.  There are
variants on this approach, such as subclassing <code class="docutils literal notranslate"><span class="pre">UserDict.UserDict</span></code> or
<code class="docutils literal notranslate"><span class="pre">collections.MutableMapping</span></code>; the part that's important to this example is
that the <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable.changed" title="sqlalchemy.ext.mutable.Mutable.changed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Mutable.changed()</span></code></a> method is called whenever an in-place
change to the datastructure takes place.</p>
<p>We also redefine the <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable.coerce" title="sqlalchemy.ext.mutable.Mutable.coerce"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Mutable.coerce()</span></code></a> method which will be used to
convert any values that are not instances of <code class="docutils literal notranslate"><span class="pre">MutableDict</span></code>, such
as the plain dictionaries returned by the <code class="docutils literal notranslate"><span class="pre">json</span></code> module, into the
appropriate type.  Defining this method is optional; we could just as well
created our <code class="docutils literal notranslate"><span class="pre">JSONEncodedDict</span></code> such that it always returns an instance
of <code class="docutils literal notranslate"><span class="pre">MutableDict</span></code>, and additionally ensured that all calling code
uses <code class="docutils literal notranslate"><span class="pre">MutableDict</span></code> explicitly.  When <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable.coerce" title="sqlalchemy.ext.mutable.Mutable.coerce"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Mutable.coerce()</span></code></a> is not
overridden, any values applied to a parent object which are not instances
of the mutable type will raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.</p>
<p>Our new <code class="docutils literal notranslate"><span class="pre">MutableDict</span></code> type offers a class method
<a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable.as_mutable" title="sqlalchemy.ext.mutable.Mutable.as_mutable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_mutable()</span></code></a> which we can use within column metadata
to associate with types. This method grabs the given type object or
class and associates a listener that will detect all future mappings
of this type, applying event listening instrumentation to the mapped
attribute. Such as, with classical table metadata:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span>

<span class="n">my_data</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;my_data&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">MutableDict</span><span class="o">.</span><span class="n">as_mutable</span><span class="p">(</span><span class="n">JSONEncodedDict</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Above, <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable.as_mutable" title="sqlalchemy.ext.mutable.Mutable.as_mutable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_mutable()</span></code></a> returns an instance of <code class="docutils literal notranslate"><span class="pre">JSONEncodedDict</span></code>
(if the type object was not an instance already), which will intercept any
attributes which are mapped against this type.  Below we establish a simple
mapping against the <code class="docutils literal notranslate"><span class="pre">my_data</span></code> table:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">mapper</span>

<span class="k">class</span> <span class="nc">MyDataClass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="c1"># associates mutation listeners with MyDataClass.data</span>
<span class="n">mapper</span><span class="p">(</span><span class="n">MyDataClass</span><span class="p">,</span> <span class="n">my_data</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">MyDataClass.data</span></code> member will now be notified of in place changes
to its value.</p>
<p>There's no difference in usage when using declarative:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.ext.declarative</span> <span class="k">import</span> <span class="n">declarative_base</span>

<span class="n">Base</span> <span class="o">=</span> <span class="n">declarative_base</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">MyDataClass</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;my_data&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">MutableDict</span><span class="o">.</span><span class="n">as_mutable</span><span class="p">(</span><span class="n">JSONEncodedDict</span><span class="p">))</span>
</pre></div>
</div>
<p>Any in-place changes to the <code class="docutils literal notranslate"><span class="pre">MyDataClass.data</span></code> member
will flag the attribute as &quot;dirty&quot; on the parent object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="k">import</span> <span class="n">Session</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sess</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span> <span class="o">=</span> <span class="n">MyDataClass</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value1&#39;</span><span class="p">:</span><span class="s1">&#39;foo&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sess</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sess</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;value1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">m1</span> <span class="ow">in</span> <span class="n">sess</span><span class="o">.</span><span class="n">dirty</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">MutableDict</span></code> can be associated with all future instances
of <code class="docutils literal notranslate"><span class="pre">JSONEncodedDict</span></code> in one step, using
<a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable.associate_with" title="sqlalchemy.ext.mutable.Mutable.associate_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">associate_with()</span></code></a>.  This is similar to
<a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable.as_mutable" title="sqlalchemy.ext.mutable.Mutable.as_mutable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_mutable()</span></code></a> except it will intercept all occurrences
of <code class="docutils literal notranslate"><span class="pre">MutableDict</span></code> in all mappings unconditionally, without
the need to declare it individually:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MutableDict</span><span class="o">.</span><span class="n">associate_with</span><span class="p">(</span><span class="n">JSONEncodedDict</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MyDataClass</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;my_data&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">JSONEncodedDict</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="supporting-pickling">
<h3>Supporting Pickling<a class="headerlink" href="#supporting-pickling" title="제목 주소">¶</a></h3>
<p>The key to the <a class="reference internal" href="#module-sqlalchemy.ext.mutable" title="sqlalchemy.ext.mutable"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlalchemy.ext.mutable</span></code></a> extension relies upon the
placement of a <code class="docutils literal notranslate"><span class="pre">weakref.WeakKeyDictionary</span></code> upon the value object, which
stores a mapping of parent mapped objects keyed to the attribute name under
which they are associated with this value. <code class="docutils literal notranslate"><span class="pre">WeakKeyDictionary</span></code> objects are
not picklable, due to the fact that they contain weakrefs and function
callbacks. In our case, this is a good thing, since if this dictionary were
picklable, it could lead to an excessively large pickle size for our value
objects that are pickled by themselves outside of the context of the parent.
The developer responsibility here is only to provide a <code class="docutils literal notranslate"><span class="pre">__getstate__</span></code> method
that excludes the <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableBase._parents" title="sqlalchemy.ext.mutable.MutableBase._parents"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_parents()</span></code></a> collection from the pickle
stream:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyMutableType</span><span class="p">(</span><span class="n">Mutable</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;_parents&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">d</span>
</pre></div>
</div>
<p>With our dictionary example, we need to return the contents of the dict itself
(and also restore them on __setstate__):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MutableDict</span><span class="p">(</span><span class="n">Mutable</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
    <span class="c1"># ....</span>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
</pre></div>
</div>
<p>In the case that our mutable value object is pickled as it is attached to one
or more parent objects that are also part of the pickle, the <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable" title="sqlalchemy.ext.mutable.Mutable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mutable</span></code></a>
mixin will re-establish the <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable._parents" title="sqlalchemy.ext.mutable.Mutable._parents"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Mutable._parents</span></code></a> collection on each value
object as the owning parents themselves are unpickled.</p>
</div>
<div class="section" id="receiving-events">
<h3>Receiving Events<a class="headerlink" href="#receiving-events" title="제목 주소">¶</a></h3>
<p>The <a class="reference internal" href="../events.html#sqlalchemy.orm.events.AttributeEvents.modified" title="sqlalchemy.orm.events.AttributeEvents.modified"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AttributeEvents.modified()</span></code></a> event handler may be used to receive
an event when a mutable scalar emits a change event.  This event handler
is called when the <a class="reference internal" href="../session_api.html#sqlalchemy.orm.attributes.flag_modified" title="sqlalchemy.orm.attributes.flag_modified"><code class="xref py py-func docutils literal notranslate"><span class="pre">attributes.flag_modified()</span></code></a> function is called
from within the mutable extension:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.ext.declarative</span> <span class="k">import</span> <span class="n">declarative_base</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">event</span>

<span class="n">Base</span> <span class="o">=</span> <span class="n">declarative_base</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">MyDataClass</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;my_data&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">MutableDict</span><span class="o">.</span><span class="n">as_mutable</span><span class="p">(</span><span class="n">JSONEncodedDict</span><span class="p">))</span>

<span class="nd">@event</span><span class="o">.</span><span class="n">listens_for</span><span class="p">(</span><span class="n">MyDataClass</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;modified&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">modified_json</span><span class="p">(</span><span class="n">instance</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;json value modified:&quot;</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="establishing-mutability-on-composites">
<span id="mutable-composites"></span><h2>Establishing Mutability on Composites<a class="headerlink" href="#establishing-mutability-on-composites" title="제목 주소">¶</a></h2>
<p>Composites are a special ORM feature which allow a single scalar attribute to
be assigned an object value which represents information &quot;composed&quot; from one
or more columns from the underlying mapped table. The usual example is that of
a geometric &quot;point&quot;, and is introduced in <a class="reference internal" href="../composites.html#mapper-composite"><span class="std std-ref">Composite Column Types</span></a>.</p>
<p>As is the case with <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable" title="sqlalchemy.ext.mutable.Mutable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mutable</span></code></a>, the user-defined composite class
subclasses <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableComposite</span></code></a> as a mixin, and detects and delivers
change events to its parents via the <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableComposite.changed" title="sqlalchemy.ext.mutable.MutableComposite.changed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MutableComposite.changed()</span></code></a> method.
In the case of a composite class, the detection is usually via the usage of
Python descriptors (i.e. <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code>), or alternatively via the special
Python method <code class="docutils literal notranslate"><span class="pre">__setattr__()</span></code>. Below we expand upon the <code class="docutils literal notranslate"><span class="pre">Point</span></code> class
introduced in <a class="reference internal" href="../composites.html#mapper-composite"><span class="std std-ref">Composite Column Types</span></a> to subclass <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableComposite</span></code></a>
and to also route attribute set events via <code class="docutils literal notranslate"><span class="pre">__setattr__</span></code> to the
<a class="reference internal" href="#sqlalchemy.ext.mutable.MutableComposite.changed" title="sqlalchemy.ext.mutable.MutableComposite.changed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MutableComposite.changed()</span></code></a> method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.ext.mutable</span> <span class="k">import</span> <span class="n">MutableComposite</span>

<span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="n">MutableComposite</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>

    <span class="k">def</span> <span class="nf">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="s2">&quot;Intercept set events&quot;</span>

        <span class="c1"># set the attribute</span>
        <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="c1"># alert all parents to the change</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">changed</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__composite_values__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Point</span><span class="p">)</span> <span class="ow">and</span> \
            <span class="n">other</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="ow">and</span> \
            <span class="n">other</span><span class="o">.</span><span class="n">y</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>

    <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableComposite</span></code></a> class uses a Python metaclass to automatically
establish listeners for any usage of <a class="reference internal" href="../composites.html#sqlalchemy.orm.composite" title="sqlalchemy.orm.composite"><code class="xref py py-func docutils literal notranslate"><span class="pre">orm.composite()</span></code></a> that specifies our
<code class="docutils literal notranslate"><span class="pre">Point</span></code> type. Below, when <code class="docutils literal notranslate"><span class="pre">Point</span></code> is mapped to the <code class="docutils literal notranslate"><span class="pre">Vertex</span></code> class,
listeners are established which will route change events from <code class="docutils literal notranslate"><span class="pre">Point</span></code>
objects to each of the <code class="docutils literal notranslate"><span class="pre">Vertex.start</span></code> and <code class="docutils literal notranslate"><span class="pre">Vertex.end</span></code> attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="k">import</span> <span class="n">composite</span><span class="p">,</span> <span class="n">mapper</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Column</span>

<span class="n">vertices</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;vertices&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;x1&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;y1&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;x2&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;y2&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="p">)</span>

<span class="k">class</span> <span class="nc">Vertex</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">mapper</span><span class="p">(</span><span class="n">Vertex</span><span class="p">,</span> <span class="n">vertices</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="n">composite</span><span class="p">(</span><span class="n">Point</span><span class="p">,</span> <span class="n">vertices</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x1</span><span class="p">,</span> <span class="n">vertices</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y1</span><span class="p">),</span>
    <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="n">composite</span><span class="p">(</span><span class="n">Point</span><span class="p">,</span> <span class="n">vertices</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x2</span><span class="p">,</span> <span class="n">vertices</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y2</span><span class="p">)</span>
<span class="p">})</span>
</pre></div>
</div>
<p>Any in-place changes to the <code class="docutils literal notranslate"><span class="pre">Vertex.start</span></code> or <code class="docutils literal notranslate"><span class="pre">Vertex.end</span></code> members
will flag the attribute as &quot;dirty&quot; on the parent object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="k">import</span> <span class="n">Session</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sess</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span> <span class="o">=</span> <span class="n">Vertex</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="n">Point</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sess</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">v1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sess</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span><span class="o">.</span><span class="n">end</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">v1</span> <span class="ow">in</span> <span class="n">sess</span><span class="o">.</span><span class="n">dirty</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="section" id="coercing-mutable-composites">
<h3>Coercing Mutable Composites<a class="headerlink" href="#coercing-mutable-composites" title="제목 주소">¶</a></h3>
<p>The <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableBase.coerce" title="sqlalchemy.ext.mutable.MutableBase.coerce"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MutableBase.coerce()</span></code></a> method is also supported on composite types.
In the case of <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableComposite</span></code></a>, the <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableBase.coerce" title="sqlalchemy.ext.mutable.MutableBase.coerce"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MutableBase.coerce()</span></code></a>
method is only called for attribute set operations, not load operations.
Overriding the <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableBase.coerce" title="sqlalchemy.ext.mutable.MutableBase.coerce"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MutableBase.coerce()</span></code></a> method is essentially equivalent
to using a <a class="reference internal" href="../mapped_attributes.html#sqlalchemy.orm.validates" title="sqlalchemy.orm.validates"><code class="xref py py-func docutils literal notranslate"><span class="pre">validates()</span></code></a> validation routine for all attributes which
make use of the custom composite type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="n">MutableComposite</span><span class="p">):</span>
    <span class="c1"># other Point methods</span>
    <span class="c1"># ...</span>

    <span class="k">def</span> <span class="nf">coerce</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="o">*</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Point</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;tuple or Point expected&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h3>Supporting Pickling<a class="headerlink" href="#id1" title="제목 주소">¶</a></h3>
<p>As is the case with <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable" title="sqlalchemy.ext.mutable.Mutable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mutable</span></code></a>, the <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableComposite</span></code></a> helper
class uses a <code class="docutils literal notranslate"><span class="pre">weakref.WeakKeyDictionary</span></code> available via the
<a class="reference internal" href="#sqlalchemy.ext.mutable.MutableBase._parents" title="sqlalchemy.ext.mutable.MutableBase._parents"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MutableBase._parents()</span></code></a> attribute which isn't picklable. If we need to
pickle instances of <code class="docutils literal notranslate"><span class="pre">Point</span></code> or its owning class <code class="docutils literal notranslate"><span class="pre">Vertex</span></code>, we at least need
to define a <code class="docutils literal notranslate"><span class="pre">__getstate__</span></code> that doesn't include the <code class="docutils literal notranslate"><span class="pre">_parents</span></code> dictionary.
Below we define both a <code class="docutils literal notranslate"><span class="pre">__getstate__</span></code> and a <code class="docutils literal notranslate"><span class="pre">__setstate__</span></code> that package up
the minimal form of our <code class="docutils literal notranslate"><span class="pre">Point</span></code> class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="n">MutableComposite</span><span class="p">):</span>
    <span class="c1"># ...</span>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>

    <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">state</span>
</pre></div>
</div>
<p>As with <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable" title="sqlalchemy.ext.mutable.Mutable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mutable</span></code></a>, the <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableComposite</span></code></a> augments the
pickling process of the parent's object-relational state so that the
<a class="reference internal" href="#sqlalchemy.ext.mutable.MutableBase._parents" title="sqlalchemy.ext.mutable.MutableBase._parents"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MutableBase._parents()</span></code></a> collection is restored to all <code class="docutils literal notranslate"><span class="pre">Point</span></code> objects.</p>
</div>
</div>
<div class="section" id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="제목 주소">¶</a></h2>
<dl class="class">
<dt id="sqlalchemy.ext.mutable.MutableBase">
<em class="property">class </em><code class="descclassname">sqlalchemy.ext.mutable.</code><code class="descname">MutableBase</code><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableBase" title="정의 주소">¶</a></dt>
<dd><p>Common base class to <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable" title="sqlalchemy.ext.mutable.Mutable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mutable</span></code></a>
and <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableComposite</span></code></a>.</p>
<dl class="attribute">
<dt id="sqlalchemy.ext.mutable.MutableBase._parents">
<code class="descname">_parents</code><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableBase._parents" title="정의 주소">¶</a></dt>
<dd><p>Dictionary of parent object-&gt;attribute name on the parent.</p>
<p>This attribute is a so-called &quot;memoized&quot; property.  It initializes
itself with a new <code class="docutils literal notranslate"><span class="pre">weakref.WeakKeyDictionary</span></code> the first time
it is accessed, returning the same object upon subsequent access.</p>
</dd></dl>

<dl class="classmethod">
<dt id="sqlalchemy.ext.mutable.MutableBase.coerce">
<em class="property">classmethod </em><code class="descname">coerce</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableBase.coerce" title="정의 주소">¶</a></dt>
<dd><p>Given a value, coerce it into the target type.</p>
<p>Can be overridden by custom subclasses to coerce incoming
data into a particular type.</p>
<p>By default, raises <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.</p>
<p>This method is called in different scenarios depending on if
the parent class is of type <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable" title="sqlalchemy.ext.mutable.Mutable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mutable</span></code></a> or of type
<a class="reference internal" href="#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableComposite</span></code></a>.  In the case of the former, it is called
for both attribute-set operations as well as during ORM loading
operations.  For the latter, it is only called during attribute-set
operations; the mechanics of the <a class="reference internal" href="../composites.html#sqlalchemy.orm.composite" title="sqlalchemy.orm.composite"><code class="xref py py-func docutils literal notranslate"><span class="pre">composite()</span></code></a> construct
handle coercion during load operations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">매개 변수:</th><td class="field-body"><ul class="first simple">
<li><span class="target" id="sqlalchemy.ext.mutable.MutableBase.coerce.params.key"></span><strong>key</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.mutable.MutableBase.coerce.params.key">¶</a> -- string name of the ORM-mapped attribute being set.</li>
<li><span class="target" id="sqlalchemy.ext.mutable.MutableBase.coerce.params.value"></span><strong>value</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.mutable.MutableBase.coerce.params.value">¶</a> -- the incoming value.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">반환:</th><td class="field-body"><p class="first last">the method should return the coerced value, or raise
<code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if the coercion cannot be completed.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.ext.mutable.Mutable">
<em class="property">class </em><code class="descclassname">sqlalchemy.ext.mutable.</code><code class="descname">Mutable</code><a class="headerlink" href="#sqlalchemy.ext.mutable.Mutable" title="정의 주소">¶</a></dt>
<dd><p>Mixin that defines transparent propagation of change
events to a parent object.</p>
<p>See the example in <a class="reference internal" href="#mutable-scalars"><span class="std std-ref">Establishing Mutability on Scalar Column Values</span></a> for usage information.</p>
<dl class="classmethod">
<dt id="sqlalchemy.ext.mutable.Mutable._get_listen_keys">
<em class="property">classmethod </em><code class="descname">_get_listen_keys</code><span class="sig-paren">(</span><em>attribute</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.Mutable._get_listen_keys" title="정의 주소">¶</a></dt>
<dd><p>Given a descriptor attribute, return a <code class="docutils literal notranslate"><span class="pre">set()</span></code> of the attribute
keys which indicate a change in the state of this attribute.</p>
<p>This is normally just <code class="docutils literal notranslate"><span class="pre">set([attribute.key])</span></code>, but can be overridden
to provide for additional keys.  E.g. a <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableComposite</span></code></a>
augments this set with the attribute keys associated with the columns
that comprise the composite value.</p>
<p>This collection is consulted in the case of intercepting the
<a class="reference internal" href="../events.html#sqlalchemy.orm.events.InstanceEvents.refresh" title="sqlalchemy.orm.events.InstanceEvents.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">InstanceEvents.refresh()</span></code></a> and
<a class="reference internal" href="../events.html#sqlalchemy.orm.events.InstanceEvents.refresh_flush" title="sqlalchemy.orm.events.InstanceEvents.refresh_flush"><code class="xref py py-meth docutils literal notranslate"><span class="pre">InstanceEvents.refresh_flush()</span></code></a> events, which pass along a list
of attribute names that have been refreshed; the list is compared
against this set to determine if action needs to be taken.</p>
<div class="versionadded">
<p><span class="versionmodified">버전 1.0.5에 추가.</span></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="sqlalchemy.ext.mutable.Mutable._listen_on_attribute">
<em class="property">classmethod </em><code class="descname">_listen_on_attribute</code><span class="sig-paren">(</span><em>attribute</em>, <em>coerce</em>, <em>parent_cls</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.Mutable._listen_on_attribute" title="정의 주소">¶</a></dt>
<dd><p>Establish this type as a mutation listener for the given
mapped descriptor.</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.ext.mutable.Mutable._parents">
<code class="descname">_parents</code><a class="headerlink" href="#sqlalchemy.ext.mutable.Mutable._parents" title="정의 주소">¶</a></dt>
<dd><p>Dictionary of parent object-&gt;attribute name on the parent.</p>
<p>This attribute is a so-called &quot;memoized&quot; property.  It initializes
itself with a new <code class="docutils literal notranslate"><span class="pre">weakref.WeakKeyDictionary</span></code> the first time
it is accessed, returning the same object upon subsequent access.</p>
</dd></dl>

<dl class="classmethod">
<dt id="sqlalchemy.ext.mutable.Mutable.as_mutable">
<em class="property">classmethod </em><code class="descname">as_mutable</code><span class="sig-paren">(</span><em>sqltype</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.Mutable.as_mutable" title="정의 주소">¶</a></dt>
<dd><p>Associate a SQL type with this mutable Python type.</p>
<p>This establishes listeners that will detect ORM mappings against
the given type, adding mutation event trackers to those mappings.</p>
<p>The type is returned, unconditionally as an instance, so that
<a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable.as_mutable" title="sqlalchemy.ext.mutable.Mutable.as_mutable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_mutable()</span></code></a> can be used inline:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Table</span><span class="p">(</span><span class="s1">&#39;mytable&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">MyMutableType</span><span class="o">.</span><span class="n">as_mutable</span><span class="p">(</span><span class="n">PickleType</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Note that the returned type is always an instance, even if a class
is given, and that only columns which are declared specifically with
that type instance receive additional instrumentation.</p>
<p>To associate a particular mutable type with all occurrences of a
particular type, use the <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable.associate_with" title="sqlalchemy.ext.mutable.Mutable.associate_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Mutable.associate_with()</span></code></a> classmethod
of the particular <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable" title="sqlalchemy.ext.mutable.Mutable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mutable</span></code></a> subclass to establish a global
association.</p>
<div class="admonition warning">
<p class="first admonition-title">경고</p>
<p class="last">The listeners established by this method are <em>global</em>
to all mappers, and are <em>not</em> garbage collected.   Only use
<a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable.as_mutable" title="sqlalchemy.ext.mutable.Mutable.as_mutable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_mutable()</span></code></a> for types that are permanent to an application,
not with ad-hoc types else this will cause unbounded growth
in memory usage.</p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="sqlalchemy.ext.mutable.Mutable.associate_with">
<em class="property">classmethod </em><code class="descname">associate_with</code><span class="sig-paren">(</span><em>sqltype</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.Mutable.associate_with" title="정의 주소">¶</a></dt>
<dd><p>Associate this wrapper with all future mapped columns
of the given type.</p>
<p>This is a convenience method that calls
<code class="docutils literal notranslate"><span class="pre">associate_with_attribute</span></code> automatically.</p>
<div class="admonition warning">
<p class="first admonition-title">경고</p>
<p class="last">The listeners established by this method are <em>global</em>
to all mappers, and are <em>not</em> garbage collected.   Only use
<a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable.associate_with" title="sqlalchemy.ext.mutable.Mutable.associate_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">associate_with()</span></code></a> for types that are permanent to an
application, not with ad-hoc types else this will cause unbounded
growth in memory usage.</p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="sqlalchemy.ext.mutable.Mutable.associate_with_attribute">
<em class="property">classmethod </em><code class="descname">associate_with_attribute</code><span class="sig-paren">(</span><em>attribute</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.Mutable.associate_with_attribute" title="정의 주소">¶</a></dt>
<dd><p>Establish this type as a mutation listener for the given
mapped descriptor.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.Mutable.changed">
<code class="descname">changed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.Mutable.changed" title="정의 주소">¶</a></dt>
<dd><p>Subclasses should call this method whenever change events occur.</p>
</dd></dl>

<dl class="classmethod">
<dt id="sqlalchemy.ext.mutable.Mutable.coerce">
<em class="property">classmethod </em><code class="descname">coerce</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.Mutable.coerce" title="정의 주소">¶</a></dt>
<dd><p>Given a value, coerce it into the target type.</p>
<p>Can be overridden by custom subclasses to coerce incoming
data into a particular type.</p>
<p>By default, raises <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.</p>
<p>This method is called in different scenarios depending on if
the parent class is of type <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable" title="sqlalchemy.ext.mutable.Mutable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mutable</span></code></a> or of type
<a class="reference internal" href="#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableComposite</span></code></a>.  In the case of the former, it is called
for both attribute-set operations as well as during ORM loading
operations.  For the latter, it is only called during attribute-set
operations; the mechanics of the <a class="reference internal" href="../composites.html#sqlalchemy.orm.composite" title="sqlalchemy.orm.composite"><code class="xref py py-func docutils literal notranslate"><span class="pre">composite()</span></code></a> construct
handle coercion during load operations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">매개 변수:</th><td class="field-body"><ul class="first simple">
<li><span class="target" id="sqlalchemy.ext.mutable.Mutable.coerce.params.key"></span><strong>key</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.mutable.Mutable.coerce.params.key">¶</a> -- string name of the ORM-mapped attribute being set.</li>
<li><span class="target" id="sqlalchemy.ext.mutable.Mutable.coerce.params.value"></span><strong>value</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.ext.mutable.Mutable.coerce.params.value">¶</a> -- the incoming value.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">반환:</th><td class="field-body"><p class="first last">the method should return the coerced value, or raise
<code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if the coercion cannot be completed.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.ext.mutable.MutableComposite">
<em class="property">class </em><code class="descclassname">sqlalchemy.ext.mutable.</code><code class="descname">MutableComposite</code><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableComposite" title="정의 주소">¶</a></dt>
<dd><p>Mixin that defines transparent propagation of change
events on a SQLAlchemy &quot;composite&quot; object to its
owning parent or parents.</p>
<p>See the example in <a class="reference internal" href="#mutable-composites"><span class="std std-ref">Establishing Mutability on Composites</span></a> for usage information.</p>
<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableComposite.changed">
<code class="descname">changed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableComposite.changed" title="정의 주소">¶</a></dt>
<dd><p>Subclasses should call this method whenever change events occur.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.ext.mutable.MutableDict">
<em class="property">class </em><code class="descclassname">sqlalchemy.ext.mutable.</code><code class="descname">MutableDict</code><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableDict" title="정의 주소">¶</a></dt>
<dd><p>A dictionary type that implements <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable" title="sqlalchemy.ext.mutable.Mutable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mutable</span></code></a>.</p>
<p>The <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableDict" title="sqlalchemy.ext.mutable.MutableDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableDict</span></code></a> object implements a dictionary that will
emit change events to the underlying mapping when the contents of
the dictionary are altered, including when values are added or removed.</p>
<p>Note that <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableDict" title="sqlalchemy.ext.mutable.MutableDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableDict</span></code></a> does <strong>not</strong> apply mutable tracking to  the
<em>values themselves</em> inside the dictionary. Therefore it is not a sufficient
solution for the use case of tracking deep changes to a <em>recursive</em>
dictionary structure, such as a JSON structure.  To support this use case,
build a subclass of  <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableDict" title="sqlalchemy.ext.mutable.MutableDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableDict</span></code></a> that provides appropriate
coercion to the values placed in the dictionary so that they too are
&quot;mutable&quot;, and emit events up to their parent structure.</p>
<div class="admonition seealso">
<p class="first admonition-title">더 보기</p>
<p><a class="reference internal" href="#sqlalchemy.ext.mutable.MutableList" title="sqlalchemy.ext.mutable.MutableList"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableList</span></code></a></p>
<p class="last"><a class="reference internal" href="#sqlalchemy.ext.mutable.MutableSet" title="sqlalchemy.ext.mutable.MutableSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableSet</span></code></a></p>
</div>
<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableDict.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None.  Remove all items from D.<a class="headerlink" href="#sqlalchemy.ext.mutable.MutableDict.clear" title="정의 주소">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="sqlalchemy.ext.mutable.MutableDict.coerce">
<em class="property">classmethod </em><code class="descname">coerce</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableDict.coerce" title="정의 주소">¶</a></dt>
<dd><p>Convert plain dictionary to instance of this class.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableDict.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><em>k</em><span class="optional">[</span>, <em>d</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; v, remove specified key and return the corresponding value.<a class="headerlink" href="#sqlalchemy.ext.mutable.MutableDict.pop" title="정의 주소">¶</a></dt>
<dd><p>If key is not found, d is returned if given, otherwise KeyError is raised</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableDict.popitem">
<code class="descname">popitem</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; (k, v), remove and return some (key, value) pair as a<a class="headerlink" href="#sqlalchemy.ext.mutable.MutableDict.popitem" title="정의 주소">¶</a></dt>
<dd><p>2-tuple; but raise KeyError if D is empty.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableDict.setdefault">
<code class="descname">setdefault</code><span class="sig-paren">(</span><em>k</em><span class="optional">[</span>, <em>d</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; D.get(k,d), also set D[k]=d if k not in D<a class="headerlink" href="#sqlalchemy.ext.mutable.MutableDict.setdefault" title="정의 주소">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableDict.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="optional">[</span><em>E</em>, <span class="optional">]</span><em>**F</em><span class="sig-paren">)</span> &#x2192; None.  Update D from dict/iterable E and F.<a class="headerlink" href="#sqlalchemy.ext.mutable.MutableDict.update" title="정의 주소">¶</a></dt>
<dd><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k]
If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v
In either case, this is followed by: for k in F:  D[k] = F[k]</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.ext.mutable.MutableList">
<em class="property">class </em><code class="descclassname">sqlalchemy.ext.mutable.</code><code class="descname">MutableList</code><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableList" title="정의 주소">¶</a></dt>
<dd><p>A list type that implements <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable" title="sqlalchemy.ext.mutable.Mutable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mutable</span></code></a>.</p>
<p>The <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableList" title="sqlalchemy.ext.mutable.MutableList"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableList</span></code></a> object implements a list that will
emit change events to the underlying mapping when the contents of
the list are altered, including when values are added or removed.</p>
<p>Note that <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableList" title="sqlalchemy.ext.mutable.MutableList"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableList</span></code></a> does <strong>not</strong> apply mutable tracking to  the
<em>values themselves</em> inside the list. Therefore it is not a sufficient
solution for the use case of tracking deep changes to a <em>recursive</em>
mutable structure, such as a JSON structure.  To support this use case,
build a subclass of  <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableList" title="sqlalchemy.ext.mutable.MutableList"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableList</span></code></a> that provides appropriate
coercion to the values placed in the dictionary so that they too are
&quot;mutable&quot;, and emit events up to their parent structure.</p>
<div class="versionadded">
<p><span class="versionmodified">버전 1.1에 추가.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">더 보기</p>
<p><a class="reference internal" href="#sqlalchemy.ext.mutable.MutableDict" title="sqlalchemy.ext.mutable.MutableDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableDict</span></code></a></p>
<p class="last"><a class="reference internal" href="#sqlalchemy.ext.mutable.MutableSet" title="sqlalchemy.ext.mutable.MutableSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableSet</span></code></a></p>
</div>
<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableList.append">
<code class="descname">append</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span> &#x2192; None -- append object to end<a class="headerlink" href="#sqlalchemy.ext.mutable.MutableList.append" title="정의 주소">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableList.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None -- remove all items from L<a class="headerlink" href="#sqlalchemy.ext.mutable.MutableList.clear" title="정의 주소">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="sqlalchemy.ext.mutable.MutableList.coerce">
<em class="property">classmethod </em><code class="descname">coerce</code><span class="sig-paren">(</span><em>index</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableList.coerce" title="정의 주소">¶</a></dt>
<dd><p>Convert plain list to instance of this class.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableList.extend">
<code class="descname">extend</code><span class="sig-paren">(</span><em>iterable</em><span class="sig-paren">)</span> &#x2192; None -- extend list by appending elements from the iterable<a class="headerlink" href="#sqlalchemy.ext.mutable.MutableList.extend" title="정의 주소">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableList.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>i</em>, <em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableList.insert" title="정의 주소">¶</a></dt>
<dd><p>L.insert(index, object) -- insert object before index</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableList.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><span class="optional">[</span><em>index</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; item -- remove and return item at index (default last).<a class="headerlink" href="#sqlalchemy.ext.mutable.MutableList.pop" title="정의 주소">¶</a></dt>
<dd><p>Raises IndexError if list is empty or index is out of range.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableList.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span> &#x2192; None -- remove first occurrence of value.<a class="headerlink" href="#sqlalchemy.ext.mutable.MutableList.remove" title="정의 주소">¶</a></dt>
<dd><p>Raises ValueError if the value is not present.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableList.reverse">
<code class="descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableList.reverse" title="정의 주소">¶</a></dt>
<dd><p>L.reverse() -- reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableList.sort">
<code class="descname">sort</code><span class="sig-paren">(</span><em>key=None</em>, <em>reverse=False</em><span class="sig-paren">)</span> &#x2192; None -- stable sort *IN PLACE*<a class="headerlink" href="#sqlalchemy.ext.mutable.MutableList.sort" title="정의 주소">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.ext.mutable.MutableSet">
<em class="property">class </em><code class="descclassname">sqlalchemy.ext.mutable.</code><code class="descname">MutableSet</code><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableSet" title="정의 주소">¶</a></dt>
<dd><p>A set type that implements <a class="reference internal" href="#sqlalchemy.ext.mutable.Mutable" title="sqlalchemy.ext.mutable.Mutable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mutable</span></code></a>.</p>
<p>The <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableSet" title="sqlalchemy.ext.mutable.MutableSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableSet</span></code></a> object implements a set that will
emit change events to the underlying mapping when the contents of
the set are altered, including when values are added or removed.</p>
<p>Note that <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableSet" title="sqlalchemy.ext.mutable.MutableSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableSet</span></code></a> does <strong>not</strong> apply mutable tracking to  the
<em>values themselves</em> inside the set. Therefore it is not a sufficient
solution for the use case of tracking deep changes to a <em>recursive</em>
mutable structure.  To support this use case,
build a subclass of  <a class="reference internal" href="#sqlalchemy.ext.mutable.MutableSet" title="sqlalchemy.ext.mutable.MutableSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableSet</span></code></a> that provides appropriate
coercion to the values placed in the dictionary so that they too are
&quot;mutable&quot;, and emit events up to their parent structure.</p>
<div class="versionadded">
<p><span class="versionmodified">버전 1.1에 추가.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">더 보기</p>
<p><a class="reference internal" href="#sqlalchemy.ext.mutable.MutableDict" title="sqlalchemy.ext.mutable.MutableDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableDict</span></code></a></p>
<p class="last"><a class="reference internal" href="#sqlalchemy.ext.mutable.MutableList" title="sqlalchemy.ext.mutable.MutableList"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableList</span></code></a></p>
</div>
<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableSet.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableSet.add" title="정의 주소">¶</a></dt>
<dd><p>Add an element to a set.</p>
<p>This has no effect if the element is already present.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableSet.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableSet.clear" title="정의 주소">¶</a></dt>
<dd><p>Remove all elements from this set.</p>
</dd></dl>

<dl class="classmethod">
<dt id="sqlalchemy.ext.mutable.MutableSet.coerce">
<em class="property">classmethod </em><code class="descname">coerce</code><span class="sig-paren">(</span><em>index</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableSet.coerce" title="정의 주소">¶</a></dt>
<dd><p>Convert plain set to instance of this class.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableSet.difference_update">
<code class="descname">difference_update</code><span class="sig-paren">(</span><em>*arg</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableSet.difference_update" title="정의 주소">¶</a></dt>
<dd><p>Remove all elements of another set from this set.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableSet.discard">
<code class="descname">discard</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableSet.discard" title="정의 주소">¶</a></dt>
<dd><p>Remove an element from a set if it is a member.</p>
<p>If the element is not a member, do nothing.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableSet.intersection_update">
<code class="descname">intersection_update</code><span class="sig-paren">(</span><em>*arg</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableSet.intersection_update" title="정의 주소">¶</a></dt>
<dd><p>Update a set with the intersection of itself and another.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableSet.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><em>*arg</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableSet.pop" title="정의 주소">¶</a></dt>
<dd><p>Remove and return an arbitrary set element.
Raises KeyError if the set is empty.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableSet.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableSet.remove" title="정의 주소">¶</a></dt>
<dd><p>Remove an element from a set; it must be a member.</p>
<p>If the element is not a member, raise a KeyError.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableSet.symmetric_difference_update">
<code class="descname">symmetric_difference_update</code><span class="sig-paren">(</span><em>*arg</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableSet.symmetric_difference_update" title="정의 주소">¶</a></dt>
<dd><p>Update a set with the symmetric difference of itself and another.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.ext.mutable.MutableSet.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>*arg</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.ext.mutable.MutableSet.update" title="정의 주소">¶</a></dt>
<dd><p>Update a set with the union of itself and others.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="orderinglist.html" class="btn btn-neutral float-right" title="Ordering List" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="declarative/api.html" class="btn btn-neutral" title="Declarative API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; <a href="../../copyright.html">Copyright</a> 2007-2018, the SQLAlchemy authors and contributors.
      최종 업데이트: 03/04/2019 18:35:14

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.3.0b1',
            LANGUAGE:'ko',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>
      <script type="text/javascript" src="../../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>